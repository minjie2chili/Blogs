#### setState
this.setState可能是异步的，当要获取上一个 state的时候
```javascript
this.setState((state,props)=>({
    counter:state.counter+props.increment
}))
```
使用es6的计算属性名称，如
```javascript
this.setState({
  [name]: value
});

// 相当于
var partialState = {};
partialState[name] = value;
this.setState(partialState);
```

#### react中为什么要绑定this
由于js的特性，this是多变的
```js
class demo extends React.Component{
    handleFather(){

    }
    handleChild(){

    }
    render(){
        return (
            <div onClick={this.handleFather}>
                <h1 onClick={this.handleChild}>点我</h1>
            </div>
        )
    }
}
```
1. 我们知道react实现了自己的一套事件机制，以上的代码通过事件冒泡后，react会将事件放到一个数组中：
> [handleFather,handleChild]
react执行遍历这个数组即可，这时这两个函数的this丢失了，并不是指向实例。然而如果我们默认加上this的话，对react代价很大：
> [{instance,handleFather},{instance,handleChild}]

2. JSX本质上是一种语法糖，上述render代码react会将其转为：
```JS
render(){
    return React.createElement("div",{onClick:this.handleFather},React.createElement("h1",{onClick:this.handleChild},"点我"))
}
```